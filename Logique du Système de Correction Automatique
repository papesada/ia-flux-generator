Python

import streamlit as st

# Initialisation de l'√©tat du score
if 'score' not in st.session_state:
    st.session_state.score = 0

def afficher_correcteur_automatique(questions, reponses_correctes):
    st.header("üèÅ Auto-Correction Interactive")
    
    reponses_utilisateur = []
    
    # Cr√©ation du formulaire de r√©ponse
    with st.form("quiz_form"):
        for i, q in enumerate(questions):
            st.write(f"**Question {i+1}:** {q['texte']}")
            choix = st.radio(f"S√©lectionnez votre r√©ponse (Q{i+1})", q['options'], key=f"q{i}")
            reponses_utilisateur.append(choix)
            
        soumettre = st.form_submit_button("V√©rifier mes r√©ponses")

    if soumettre:
        score = 0
        for i, rep in enumerate(reponses_utilisateur):
            if rep == reponses_correctes[i]:
                score += 1
                st.success(f"‚úÖ Question {i+1} : Bonne r√©ponse !")
            else:
                st.error(f"‚ùå Question {i+1} : Mauvaise r√©ponse. La correction √©tait : {reponses_correctes[i]}")
        
        # Calcul du pourcentage
        performance = (score / len(questions)) * 100
        st.metric("Votre Note Finale", f"{score}/{len(questions)}", f"{performance}%")
        
        # Log des performances dans les stats de l'entreprise
        # stats_tracker.log_score(score, len(questions))
